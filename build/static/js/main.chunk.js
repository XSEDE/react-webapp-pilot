/*! For license information please see main.chunk.js.LICENSE.txt */
(this["webpackJsonpapi-discovery-project-v10"]=this["webpackJsonpapi-discovery-project-v10"]||[]).push([[0],{47:function(e,t,a){e.exports=a(64)},52:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),o=a.n(i),c=a(33),l=a(34),s=a(23),u=a(35),h=a(36),m=a(43),d=a(42),f=a(17),p=(a(52),a(11)),v=a(5),g=a(84),E=a(85),y=a(86),b=(a(58),a(37)),w=a.n(b),k=a(87),N=a(89),T=a(88);function x(){x=function(){return t};var e,t={},a=Object.prototype,r=a.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),c=new P(r||[]);return n(o,"_invoke",{value:S(e,a,c)}),o}function h(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="executing",f="completed",p={};function v(){}function g(){}function E(){}var y={};s(y,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(G([])));w&&w!==a&&r.call(w,o)&&(y=w);var k=E.prototype=v.prototype=Object.create(y);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function a(n,i,o,c){var l=h(e[n],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,o,c)}),(function(e){a("throw",e,o,c)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return a("throw",e,o,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(t,a,r){var n=m;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var c=r.delegate;if(c){var l=D(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===m)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=h(t,a,r);if("normal"===s.type){if(n=r.done?f:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=f,r.method="throw",r.arg=s.arg)}}}function D(t,a){var r=a.method,n=t.iterator[r];if(n===e)return a.delegate=null,"throw"===r&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=h(n,t.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,p;var o=i.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,p):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function G(t){if(t||""===t){var a=t[o];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function a(){for(;++n<t.length;)if(r.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=E,n(k,"constructor",{value:E,configurable:!0}),n(E,"constructor",{value:g,configurable:!0}),g.displayName=s(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},N(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,a,r,n,i){void 0===i&&(i=Promise);var o=new T(u(e,a,r,n),i);return t.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},N(k),s(k,l,"Generator"),s(k,o,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=G,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(r,n){return c.type="throw",c.arg=t,a.next=r,n&&(a.method="next",a.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;C(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,r){return this.delegate={iterator:G(t),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function S(e){return"Executable Software"===e?n.a.createElement(p.a,{size:"1x",icon:v.e}):"Online Service"===e?n.a.createElement(p.a,{size:"1x",icon:v.d}):"Cloud Image"===e?n.a.createElement(p.a,{size:"1x",icon:v.b}):"Vendor Software"===e?n.a.createElement(p.a,{size:"1x",icon:v.g}):n.a.createElement(p.a,{size:"1x",icon:v.c})}var D=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleCheckbox=function(e){return function(t){r.setState(Object(s.a)({},e,t.target.checked))}},r.handleSearchTerm=function(e){r.setState({searchTerm:e.target.value})},r.handleSearchButton=function(){r.setState({activePage:1}),r.componentDidMount()},r.BackPage=function(){console.log("back page"),r.setState({individualTrue:!1})},r.handleClick=function(){console.log("reset"),r.setState({individualTrue:!1,searchTerm:"",searchField:"",resourceID:"",affiliation:"",resourceGroup:"",type:"",provider:"",activePage:1,checkedName:!0,checkedDescription:!0,checkedTopics:!0,checkedKeywords:!0}),r.componentDidMount()},r.state={individualTrue:!1,loading:!0,result:[],aggregations:[],searchTerm:"",searchField:"",total:0,resourceID:"",affiliation:"",resourceGroup:"",type:"",provider:"",activePage:1,checkedName:!0,checkedDescription:!0,checkedTopics:!0,checkedKeywords:!0,searchTime:0},r}return Object(h.a)(a,[{key:"handlePageChange",value:function(e){this.setState({activePage:e,searchTerm:""})}},{key:"componentDidUpdate",value:function(e,t){t.individualTrue!==this.state.individualTrue||t.affiliation!==this.state.affiliation||t.resourceGroup!==this.state.resourceGroup||t.type!==this.state.type||t.provider!==this.state.provider?(this.setState({activePage:1}),this.componentDidMount()):t.activePage!==this.state.activePage&&this.componentDidMount()}},{key:"componentDidMount",value:function(){var e=Object(l.a)(x().mark((function e(){var t,a,r,n,i,o,l,s,u,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("didmount called...."),console.log("individualTrue = ",this.state.individualTrue),!1!==this.state.individualTrue){e.next=27;break}return this.state.searchField="",!0===this.state.checkedName&&(this.state.searchField=this.state.searchField+"Name,"),!0===this.state.checkedDescription&&(this.state.searchField=this.state.searchField+"ShortDescription,Description,"),!0===this.state.checkedTopics&&(this.state.searchField=this.state.searchField+"Topics,"),!0===this.state.checkedKeywords&&(this.state.searchField=this.state.searchField+"Keywords,"),!1===this.state.checkedName&&!1===this.state.checkedDescription&&!1===this.state.checkedTopics&&!1===this.state.checkedKeywords&&(this.state.checkedName=!0,this.state.checkedDescription=!0,this.state.checkedTopics=!0,this.state.checkedKeywords=!0),console.log(this.state.searchField),t="https://info.xsede.org/wh1/resource-api/v3/resource_esearch/?format=json&aggregations=type,affiliation,resourcegroup,providerid&search_terms="+this.state.searchTerm+"&page="+this.state.activePage+"&affiliations="+this.state.affiliation+"&resource_groups="+this.state.resourceGroup+"&types="+this.state.type+"&providers="+this.state.provider+"&search_fields="+this.state.searchField,console.log(this.state.searchTerm),console.log(t),a=Date.now(),e.next=16,fetch(t);case 16:return r=e.sent,e.next=19,r.json();case 19:n=e.sent,i=Date.now(),o={},window.SETTINGS.resourceGroup&&(n.aggregations.ResourceGroup=n.aggregations.ResourceGroup.filter((function(e){return e.Name===window.SETTINGS.resourceGroup})),o.resourceGroup=window.SETTINGS.resourceGroup),window.SETTINGS.affiliation&&(n.aggregations.Affiliation=n.aggregations.Affiliation.filter((function(e){return e.Name===window.SETTINGS.affiliation})),o.affiliation=window.SETTINGS.affiliation),this.setState(Object(c.a)({searchTime:i-a,result:n.results,aggregations:n.aggregations,total:n.total_results,loading:!1,resourceGroup:"Software"},o)),e.next=37;break;case 27:if(!0!==this.state.individualTrue){e.next=37;break}return l=this.state.resourceID,s="https://info.xsede.org/wh1/resource-api/v3/resource/id/"+l+"/?format=json",e.next=32,fetch(s);case 32:return u=e.sent,e.next=35,u.json();case 35:h=e.sent,this.setState({result:h.results,loading:!1});case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTitle",value:function(){return window.SETTINGS.title?window.SETTINGS.title:"Resource Tools and Services Discovery"}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.result,i=t.aggregations,o=t.total,c=t.individualTrue;return a?n.a.createElement("div",null,n.a.createElement("center",null,"Loading...")):!1===c?n.a.createElement(f.a,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{fluid:!0},n.a.createElement("div",{className:"page"},n.a.createElement("h1",{className:"title"},this.getTitle()),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:{span:8,offset:4},lg:{span:10,offset:2}},n.a.createElement("div",{className:"input-box"},n.a.createElement("input",{className:"form-control",type:"text",value:this.state.searchTerm,onChange:this.handleSearchTerm}),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleSearchButton()}},n.a.createElement(p.a,{size:"1x",icon:v.f}))))),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:{span:8,offset:4},lg:{span:10,offset:2}},n.a.createElement("b",{className:"textCSS"},"Search Fields (at least one required): \xa0"),n.a.createElement("div",{className:"noNewLine"},n.a.createElement(k.a,{row:!0},n.a.createElement(N.a,{control:n.a.createElement(T.a,{checked:this.state.checkedName,onChange:this.handleCheckbox("checkedName"),value:"checkedName",color:"primary"}),label:"Name"}),n.a.createElement(N.a,{control:n.a.createElement(T.a,{checked:this.state.checkedDescription,onChange:this.handleCheckbox("checkedDescription"),value:"checkedDescription",color:"primary"}),label:"Description"}),n.a.createElement(N.a,{control:n.a.createElement(T.a,{checked:this.state.checkedTopics,onChange:this.handleCheckbox("checkedTopics"),value:"checkedTopics",color:"primary"}),label:"Topics"}),n.a.createElement(N.a,{control:n.a.createElement(T.a,{checked:this.state.checkedKeywords,onChange:this.handleCheckbox("checkedKeywords"),value:"checkedKeywords",color:"primary"}),label:"Keywords"}))))),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:{span:8,offset:4},lg:{span:10,offset:2}},25*this.state.activePage<=o&&n.a.createElement("div",null,n.a.createElement("b",{className:"textCSS"},"Viewing: ",25*(this.state.activePage-1)+1," -"," ",25*this.state.activePage," of ",o," ","\xa0\xa0\xa0\xa0 Click on a title to view item details.")),25*this.state.activePage>o&&n.a.createElement("div",null,n.a.createElement("b",{className:"textCSS"},"Viewing: ",25*(this.state.activePage-1)+1," -"," ",o," of ",o," \xa0\xa0\xa0\xa0 Click on a title to view item details.")))),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:"4",lg:"2"},n.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(){return e.handleClick()}},n.a.createElement(p.a,{size:"1x",icon:v.h}),"\xa0\xa0Reset"),n.a.createElement("br",null),n.a.createElement("div",{className:"terms"},n.a.createElement("b",{className:"selectionHeader"},"By Affiliation:")," ",n.a.createElement("br",null),i.Affiliation.map((function(t){return n.a.createElement("div",{className:"selectionDetails",key:i.Affiliation.Name},n.a.createElement(f.b,{to:e.props,onClick:function(){return e.setState({affiliation:t.Name})}},n.a.createElement(p.a,{size:"1x",icon:v.c})," ",t.Name)," ("+t.count+")")})),n.a.createElement("b",{className:"selectionHeader"},"By Resource Group:")," ",n.a.createElement("br",null),i.ResourceGroup.map((function(t){return n.a.createElement("div",{className:"selectionDetails",key:i.ResourceGroup.Name},n.a.createElement(f.b,{to:e.props,onClick:function(){return e.setState({resourceGroup:t.Name})}},n.a.createElement(p.a,{size:"1x",icon:v.c})," ",t.Name)," ("+t.count+")",n.a.createElement("br",null))})),n.a.createElement("b",{className:"selectionHeader"},"By Type:")," ",n.a.createElement("br",null),i.Type.map((function(t){return n.a.createElement("div",{className:"selectionDetails",key:i.Type.Name},n.a.createElement(f.b,{to:e.props,onClick:function(){return e.setState({type:t.Name})}},S(t.Name)," "+t.Name)," ("+t.count+")",n.a.createElement("br",null))})),n.a.createElement("b",{className:"selectionHeader"},"By Provider:")," ",n.a.createElement("br",null),i.ProviderID.map((function(t){return n.a.createElement("div",{className:"selectionDetails",key:i.ProviderID.Name},n.a.createElement(f.b,{to:e.props,onClick:function(){return e.setState({provider:t.ID})}},n.a.createElement(p.a,{size:"1x",icon:v.c})," ",t.Name)," ("+t.count+")",n.a.createElement("br",null))})))),n.a.createElement(y.a,{xs:"8",lg:"10"},n.a.createElement("div",{className:"results"},r.map((function(t){return n.a.createElement("div",{key:t.ID},n.a.createElement("article",{className:"result"},n.a.createElement("h2",null,n.a.createElement(f.b,{to:e.props,onClick:function(){return e.setState({resourceID:t.ID,individualTrue:!0})}},t.Name)),n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"smallDetails"},S(t.Type),"  "+t.Type+"; Affiliation: "+t.Affiliation+" ",n.a.createElement("div",{className:"noNewLine"},n.a.createElement(p.a,{size:"1x",icon:v.c}),n.a.createElement("div",{className:"noNewLine"},function(e,t){for(var a=0;a<t.length;a++)if(e===t[a].ID)return n.a.createElement("p",null,"\xa0",t[a].Name);return n.a.createElement("p",null,"\xa0No Provider")}(t.ProviderID,i.ProviderID)))),n.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.Description}}))))}))))),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:{span:8,offset:4},lg:{span:10,offset:2}},n.a.createElement(w.a,{itemClass:"page-item",linkClass:"page-link",activePage:this.state.activePage,itemsCountPerPage:25,totalItemsCount:o,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:this.handlePageChange.bind(this)}),n.a.createElement("b",{className:"textCSS"},"Query Took: ",this.state.searchTime,"ms"))))))):!0===c?n.a.createElement(g.a,{fluid:!0},n.a.createElement("div",{className:"page"},n.a.createElement("h1",{className:"title"},this.getTitle()),n.a.createElement("button",{className:"btn btn-primary",onClick:this.BackPage},n.a.createElement(p.a,{size:"1x",icon:v.a})),n.a.createElement(E.a,null,n.a.createElement(y.a,{xs:10},n.a.createElement("div",{className:"results"},r.map((function(e){return n.a.createElement("div",{key:e.ID,class:"article"},n.a.createElement("article",{className:"result"},n.a.createElement("div",{className:"individualh1"},n.a.createElement("b",null,e.Name)),n.a.createElement("br",null),n.a.createElement("div",{className:"details"},n.a.createElement("b",null,"Description:"),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.Description}}),n.a.createElement("br",null),n.a.createElement("h1",null,e.ResourceGroup," Type:\xa0"),n.a.createElement("h2",null," "," "+e.Type),n.a.createElement("br",null),n.a.createElement("h1",null,"Attributes"),n.a.createElement("br",null),function(e){if(""!==e&&null!==e)return n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null,"\xa0KeyWords\xa0"),n.a.createElement("div",{className:"attributes"},e),n.a.createElement("br",null))}(e.Keywords),function(e){if(""!==e&&null!==e)return n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null,"\xa0Quality Level\xa0"),n.a.createElement("div",{className:"attributes"},e),n.a.createElement("br",null))}(e.QualityLevel),function(e){if(""!==e&&null!==e)return n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null,"\xa0Audience\xa0"),n.a.createElement("div",{className:"attributes"},e),n.a.createElement("br",null))}(e.Affiliation),n.a.createElement("br",null),n.a.createElement("h1",null,"Relations"),n.a.createElement("br",null),e.Relations&&e.Relations.map((function(e){return n.a.createElement("div",null,n.a.createElement("b",null,"\xa0",e.RelationType,"\xa0"),e.Name)})))))}))))))):void 0}}]),a}(r.Component),L=document.getElementById("Operations_WebApp_SoftwareDiscovery");o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),L)}},[[47,1,2]]]);
//# sourceMappingURL=main.chunk.js.map